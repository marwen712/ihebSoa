<div class="spinner-border" role="status" *ngIf="crud.loading">
  <span class="visually-hidden">Loading...</span>
</div>
<section *ngIf="crud.aj">
 
  <h1>Ajouter off plan</h1>  

<div class="container">

  <div class="row">
    <div class="col-6">

      <div class="form-group">
        <label for="exampleFormControlInput1">titre Off-plan</label>
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="titre off-plan" [(ngModel)]="off.title">
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">Nom developpeur</label>
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="nom de devloppeur  off-plan" [(ngModel)]="off.dev">
      </div>
      <div class="form-group">
          <label for="exampleFormControlInput1">sous titre Off-plan</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" placeholder=" sous titre off-plan" [(ngModel)]="off.stitle">
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">video</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" placeholder=" video" [(ngModel)]="off.video">
        </div>
           <!---carc-->
           <div class="input-group mb-3">
            <input
            [(ngModel)]="carc"
              type="text"
              class="form-control"
              placeholder="ajouter cractrestique"
              aria-label="Recipient's username"
              aria-describedby="button-addon2"
            />
            <input class="form-control form-control-lg" id="formFileLg" type="file" (change)="selectFileSingle($event)" />
            
            <button class="btn btn-outline-primary" type="button" id="button-addon2" data-mdb-ripple-color="dark" *ngIf="!serIm.loadingImagSingle" (click)="ajoutCarc()">
              ajouter
            </button>
            <span class="spinner-grow spinner-grow-sm" role="status" *ngIf="serIm.loadingImagSingle" aria-hidden="true" ></span>
          </div>

          <table class="table table-striped"  >
            <thead>
             
            </thead>
            <tbody>
              <tr *ngFor="let item of tabCarc; index as i">
                
                <td>{{ item.carc}}</td>

                <td><img [src]="item.imageCarac" style="height:30px ;width: 30px;" alt=""></td>
                
                <td (click)="supCarc(i)"><button class="btn btn-primary" type="button"  >
                  <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true" >  </span>
                 suprimer
                </button></td>
              </tr>
              
            </tbody>
          </table>
          <!---finCra-->
        <div class="form-group">
          <label for="exampleFormControlInput1">title 3</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="title3" [(ngModel)]="off.prix">
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">prix finale</label>
          <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="prix final" [(ngModel)]="off.prixFinal">
        </div>
      <div class="form-group">
        <label for="exampleFormControlTextarea1">Discreption</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" [(ngModel)]="off.desc"></textarea>
      </div>
      <div class="form-group">
          <label for="exampleFormControlFile1">ajout image</label>
          <input class="form-control form-control-lg" id="formFileLg" type="file" (change)="selectFile($event)" />
          
        </div>
        <!---table image-->
        <div class="container">
          <div class="row">
            <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status" *ngIf='serIm.loadingImag'>
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
          <div class="row">
            <div class="col-3" *ngFor="let im of serIm.tabImages">
              
              <div class="small text-muted mt-2"><img [src]="im"  style=" width: 200px; height: 200px" /></div>
          </div>
          </div>
        
        </div>
         
    </div>
    <div class="col-6" style="margin-top: 10%;">
      <app-map3></app-map3>
    </div>
    
  </div>
</div>
<nav class="navbar navbar-light bg-light">
  <form class="container-fluid justify-content-start">
    <button class="btn btn-outline-success me-2" type="button" (click)="ajout()"> Ajouter off PLAN</button>
    <button class="btn btn-sm btn-outline-secondary" type="button">Annuler</button>
  </form>
</nav> 
     
          
</section>

<section *ngIf="crud.ac">
    <h1>affiche off-plan</h1>
    
    <table class="table table-striped"  >
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">title</th>
          <th scope="col">sous title</th>
         
          <th scope="col">supprimer</th>
          <th scope="col">modifier</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let off of tabOff; index as i">
          <th scope="row">{{i+1}}</th>
          <td>{{off.title}}</td>
          <td>{{off.stitle}}</td>
          <td (click)="sup(i)"><button class="btn btn-primary" type="button"  >
            <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true" ></span>
           suprimer
          </button></td>
          <td (click)="modif(i)"><button class="btn btn-primary" type="button"  >
            <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true" ></span>
           modifier
          </button></td>
        </tr>
        
      </tbody>
    </table>
    <app-update-offplan *ngIf="affModif" style="margin-top: 20px;"></app-update-offplan>
</section>